<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background-color: #000000;
    }

    #container {
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .music-player {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 1;
    }
  </style>
</head>
<body>
  <div id="container"></div>
  <div class="music-player">
    <iframe allow="autoplay *; encrypted-media *; fullscreen *; clipboard-write" frameborder="0" height="175" style="width:100%;max-width:660px;overflow:hidden;border-radius:10px;" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation" src="https://embed.music.apple.com/jp/album/aisite-no-shomei-feat-kankan/1514898110?i=1514898119&l=en-US"></iframe>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/three@0.132.0/build/three.min.js"></script>
  <script>
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.getElementById('container').appendChild(renderer.domElement);

    const sphereGeometry = new THREE.SphereGeometry(0.05, 32, 16);
    const sphereMaterial = new THREE.MeshPhongMaterial({ color: 0xffffff });
    const sphereGroup = new THREE.Group();

    const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
    const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
    directionalLight.position.set(0, 1, 1);

    scene.add(sphereGroup, ambientLight, directionalLight);

    for (let i = 0; i < 10000; i++) {
      const sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);
      const x = Math.random() * 40 - 20; // X coordinate
      const y = Math.random() * 40 - 20; // Y coordinate
      const z = Math.random() * 40 - 20; // Z coordinate
      sphere.position.set(x, y, z);
      sphere.velocity = new THREE.Vector3(Math.random() * 0.01 - 0.005, Math.random() * 0.01 - 0.005, Math.random() * 0.01 - 0.005);
      sphere.acceleration = new THREE.Vector3(0, 0, 0);
      sphereGroup.add(sphere);
    }

    camera.position.z = 25;

    const mouse = new THREE.Vector2();
    const target = new THREE.Vector2();
    const windowHalf = new THREE.Vector2(window.innerWidth / 2, window.innerHeight / 2);

    function onMouseMove(event) {
      mouse.x = (event.clientX - windowHalf.x) * 0.002;
      mouse.y = (event.clientY - windowHalf.y) * 0.002;
    }

    function onWindowResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
      windowHalf.set(window.innerWidth / 2, window.innerHeight / 2);
    }

    window.addEventListener('mousemove', onMouseMove);
    window.addEventListener('resize', onWindowResize);

    function animate() {
      requestAnimationFrame(animate);

      sphereGroup.children.forEach(sphere => {
        // Apply acceleration to velocity
        sphere.velocity.add(sphere.acceleration);

        // Apply velocity to position
        sphere.position.add(sphere.velocity);

        // Dampen acceleration
        sphere.acceleration.multiplyScalar(0.98);

        // Check boundaries and reverse velocity if necessary
        if (sphere.position.x > 20 || sphere.position.x < -20) {
          sphere.velocity.x *= -1;
        }
        if (sphere.position.y > 20 || sphere.position.y < -20) {
          sphere.velocity.y *= -1;
        }
        if (sphere.position.z > 20 || sphere.position.z < -20) {
          sphere.velocity.z *= -1;
        }
      });

      // Update camera position based on mouse movement
      camera.position.x += (mouse.x - camera.position.x) * 0.05;
      camera.position.y += (-mouse.y - camera.position.y) * 0.05;

      renderer.render(scene, camera);
    }

    animate();
  </script>
</body>
</html>
